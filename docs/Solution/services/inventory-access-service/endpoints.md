# Inventory Access Service: Endpoints

[[_TOC_]]

## Event Subscriptions

### availability.access.updated.success

**Event Schema:** [Axis Inventory Access Update](../../events.md#axis-inventory-access-update)

**Use Case:** [Upsert](domain.md#upsert)

**Handler rules:**

* Message body MUST contain:
    * ClientRef
    * InventoryRef
    * Blocked

---

### availability.access.deleted.success

**Event Schema:** [Axis Inventory Access Delete](../../events.md#axis-inventory-access-delete)

**Use Case:** [Delete](domain.md#delete)

**Handler rules:**

* Message body MUST contain:
  * ClientRef
  * InventoryRef

---

## HTTP Handlers

**Headers**

All HTTP requests should carry the following headers

| Header        | Type                 | Reason                                                              |
|---------------|----------------------|---------------------------------------------------------------------|
| CorrelationID | UUID                 | Tracks the relationship between different events in the same chain. |
| Origin        | string               | Tracks the service which spawned the event.                         |                                            
| Timestamp     | int (unix Timestamp) | Tracks the sequencing (and in some cases applicability) of events.  |

Any event generated by a use case which publishes response events should forward the `CorrelationID` of the originally
consumed request.

The `Origin` header should be used to provide information on where a request came from. It should be a namespaced path.

---

### GET /client/{clientRef}

**Request Schema:**

| Field     | Type   | Location  | Notes |
|-----------|--------|-----------|-------|
| ClientRef | string | URL Param |       |

**Use Case:** [GetClientAccess](domain.md#get-client-access)

---
